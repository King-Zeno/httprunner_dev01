config:
    name: "创建设计方案"
    output:
        - token
        - code
    variables:
        device_sn: "ABC"
        username: ${ENV(USERNAME_DESIGNER)}
        password: ${ENV(PASSWORD_DESIGNER)}
    base_url: ${ENV(base_url)}

teststeps:
-
    name: "获取验证码"
    api: login_engineering/loginsms.yml
    extract:
      - code: content.data
    validate:
        - eq: ["status_code", 200]
-
    name: "手机登录"
    api: login_engineering/mobile_login.yml
    variables:
        code: $code
    extract:
      - token: content.data.token
    validate:
        - eq: ["status_code", 200]
-
    name: "我的详情"
    api: mine/myinformation.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: "我的评价"
    api: mine/myevaluation.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: "我的工程"
    api: mine/myproject.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: "我的资料"
    api: mine/myprofile.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]