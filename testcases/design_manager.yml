config:
    name: "设计管理"
    output:
        - token
    variables:
        device_sn: "ABC"
        username: ${ENV(USERNAME_DESIGNER)}
        password: ${ENV(PASSWORD_DESIGNER)}
    base_url: 'http://ems.test.woapi.net:8077'

teststeps:
-
    name: 设计师登录
    api: design_scheme/login.yml

    extract:
    -   token: content.data.token
    validate:
        - eq: ["status_code", 200]
-
    name: 设计管理-设计方案-创建
    api: design_scheme/createScheme.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: 设计管理-设计方案-列表
    api: design_scheme/design_cases_list.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: 设计管理-设计方案-详情
    api: design_scheme/design_cases_details.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: 设计管理-设计方案-编辑
    api: design_scheme/changecase.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: 设计管理-设计方案-交接工程单
    api: design_scheme/handover_case.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: 设计管理-水电设计-领取任务
    api: design_scheme/water_electricity_relate.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: 设计管理-水电设计-提交图纸
    api: design_scheme/water_electricity_attachment.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: 设计管理-水电设计-列表
    api: design_scheme/water_electricity_list.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: 设计管理-水电设计-列表-状态筛选项
    api: design_scheme/water_electricity_list_screen.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]
-
    name: 设计管理-水电设计-详情
    api: design_scheme/water_electricity_list_screen.yml
    variables:
        token: $token
    validate:
        - eq: ["status_code", 200]

